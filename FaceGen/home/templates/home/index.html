{% extends 'home/base.html' %}
{% load static %}

{% block title %}FaceGen{% endblock %}

{% block header %}
<header>
    <a class="h-5" href="{% url 'index' %}"><img src="{% static 'home/images/logo.png' %}" alt="Logo"></a>
    <nav class="flex items-center gap-8">
        <a href="{% url 'dreambooth' %}" class="text-white hover:text-gray-400">Dreambooth</a>
        <a href="{% url 'about' %}" class="text-white hover:text-gray-400">About</a>
        <div class="relative">
            <button id="color-picker" class="flex items-center text-white">
                <img class="w-8 h-8" src="{% static 'home/icons/dropdown.svg' %}" alt="Dropdown arrow">
            </button>
            <div class="dropdown-content hidden absolute right-0 mt-2 w-32 bg-white rounded shadow-lg">
                <a href="#" class="block px-4 py-2 text-sm text-black" @click.prevent="changeTheme('blueFamily')">
                    <div class="circle w-4 h-4 rounded-full" style="background-color: var(--blue-primary)"></div>
                </a>
                <a href="#" class="block px-4 py-2 text-sm text-black" @click.prevent="changeTheme('greenFamily')">
                    <div class="circle w-4 h-4 rounded-full" style="background-color: var(--green-primary)"></div>
                </a>
                <a href="#" class="block px-4 py-2 text-sm text-black" @click.prevent="changeTheme('purpleFamily')">
                    <div class="circle w-4 h-4 rounded-full" style="background-color: var(--purple-primary)"></div>
                </a>
                <a href="#" class="block px-4 py-2 text-sm text-black" @click.prevent="changeTheme('redFamily')">
                    <div class="circle w-4 h-4 rounded-full" style="background-color: var(--red-primary)"></div>
                </a>
            </div>
        </div>
    </nav>
    <a href="https://www.dell.com" target="_blank">
        <img src="{% static 'home/images/dell-logo.png' %}" alt="Dell Technologies Logo" class="h-8">
    </a>
</header>
{% endblock %}

{% block content %}

<main class="flex flex-col items-center min-w-[80%] max-w-[80%] p-5">
    <div>
        <div class="flex items-center w-full">
            <h1 class="text-5xl font-light">FaceGen</h1>
            <span class="text-lg text-white text-opacity-55 ml-2 relative top-2 font-normal italic mt-2">Powered by the students of Paul Val√©ry</span>
        </div>
        <p class="text-lg max-w-3xl text-left">Your gateway to AI-generated faces and personas. Describe, and watch as lifelike images come to life effortlessly.</p>

    </div>
    <form id="image-inputs" class="text-black w-full" hx-get="{% url 'generate' %}" hx-swap-oob="true" hx-target="#output">
        <div class="flex flex-row mt-8 mb-5 px-4 items-center justify-between gap-5 w-full rounded-3xl overflow-hidden bg-white relative">
            <div class="absolute left-4 flex gap-2 z-2 items-center">
                <button id="settings-button" onclick="$('#advanced-settings').toggle()" type="button">
                    <img class="w-8 h-8" src="{% static 'home/icons/settings.svg' %}" alt="Advanced settings">
                </button>
            </div>
            <input type="text" name="prompt" id="prompt" placeholder="Enter your prompt here..." required class="p-4 mr-0 ml-16 border-none w-[calc(100%-90px-60px)] relative z-1 text-lg focus:outline-none">
            <button id="send-button" class="p-2" type="submit"><img class="w-8 h-8" src="{% static 'home/icons/send.svg' %}" alt="Send"></button>
        </div>
        <div id="advanced-settings" class=" bg-white rounded-lg p-5 max-w-[80%] mx-auto shadow-lg relative z-3">
            <label for="negative_prompt" class="block text-black ml-6">Negative prompt:</label>
            <input type="text" name="negative_prompt" id="negative_prompt" class="block w-[calc(90%-20px)] mx-auto my-2 p-2 border border-gray-400 rounded focus:outline-none focus:border-blue-primary">            <label for="guidance_scale" class="block text-black ml-6">Guidance scale:</label>
            <input type="number" name="guidance_scale" id="guidance_scale" value="7" min="5" max="10" class="block w-[calc(90%-20px)] mx-auto my-2 p-2 border border-gray-400 rounded focus:outline-none focus:border-blue-primary">
            <label for="num_inference_steps" class="block text-black ml-6">Number of inference steps:</label>
            <input type="number" name="num_inference_steps" id="num_inference_steps" value="100" min="1" max="500" class="block w-[calc(90%-20px)] mx-auto my-2 p-2 border border-gray-400 rounded focus:outline-none focus:border-blue-primary">
            <label for="seed" class="block text-black ml-6">Seed:</label>
            <input type="number" name="seed" id="seed" value="0" class="block w-[calc(90%-20px)] mx-auto my-2 p-2 border border-gray-400 rounded focus:outline-none focus:border-blue-primary">
        </div>
    </form>

    <div id="output" class="flex flex-col bg-white/60 rounded-lg p-2 m-2 text-center w-72 justify-center items-center">
        <img src="{% static 'home/images/output.png' %}" alt="Output" class="w-64 h-64 rounded-lg">
    </div>
</main>
<div id="history-container" hx-post="" hx-trigger="load, from:#send-button">
</div>
{% endblock %}
